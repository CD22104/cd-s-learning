# 数据库

## 概述

数据库是**长期存储在计算机**内，**有组织**、**可共享**的**大量**数据的集合。

数据库的特点是数据永久结构化存储、冗余度低、独立性高、可以共享和易于扩展。

数据库系统(DBS)：由硬件、软件和人员组成

- 数据库（DB）

- 数据库管理系统(DBMS)：提供给用户的平台，帮助用户建立、使用和管理数据库的软件系统。

  > **数据定义**：数据定义语言（DDL）
  >
  > **数据操纵**：数据操纵语言（DML）
  >
  > **数据库的事务管理和运行管理**：安全性、完整性、并发性、恢复性的保护控制的数据控制语言
  >
  > **数据库的建立和维护**：数据定义、操纵、控制、存储的具体实现，备份与重组重构、性能监视与分析
  >
  > **组织、存储和管理数据**

- 开发工具

- 应用系统

- 数据库管理员（DBA）

- 用户

 ![image-20201119203722337](C:\Users\LENOVO\AppData\Roaming\Typora\typora-user-images\image-20201119203722337.png)

### 数据管理技术的发展过程

- 人工管理阶段(20世纪40年代中--50年代中)
- 文件系统阶段(20世纪50年代末--60年代中)
- 数据库系统阶段(20世纪60年代末--现在)

|                      | 人工管理阶段 | 文件管理阶段         | 数据库系统结算                 |
| -------------------- | ------------ | -------------------- | ------------------------------ |
| 保存、结构化         | 否           | 可保存，不能结构化   | 是                             |
| 共享                 | 否           | 否                   | 是                             |
| 独立性               | 否           | 否                   | 是                             |
| 硬件水平（存储设备） | 无           | 磁盘                 | 大容量磁盘                     |
| 软件水平（操作系统） | 无           | 文件系统             | 有数据库管理系统               |
| 处理方式             | 批处理       | 联机实时处理，批处理 | 联机实时处理，分布处理，批处理 |

### 数据库系统的特点

- 数据结构化：整体结构化，用数据模型描述，无需定义解释

- 数据的共享性高，冗余度低，易扩充

- 数据独立性高:物理独立性（数据的物理存储改变了，应用程序不改变），逻辑独立性（数据的物理存储改变了，应用程序不改变）

  > 是由DBMS的二级映像功能来保证的

- 数据由DBMS统一管理和控制：安全性，完整性，并发，数据库恢复

### 数据模型





## 关系

从用户角度，关系模型中数据的逻辑结构是一张二维表
建立在集合代数的基础上 

#### 域

域是一组具有相同数据类型的值的集合

#### 笛卡尔积

   给定一组域D1，D2，…，Dn，这些域中可以有相同的。所有域的所有取值的一个组合。

笛卡尔积中每一个元素（d1，d2，…，dn）叫作一个n元组（n-tuple）或简称元组(Tuple)：(张清玫，计算机专业，李勇)、(张清玫，计算机专业，刘晨)等都是元组 

笛卡尔积元素（d1，d2，…，dn）中的每一个值di叫作一个分量：张清玫、计算机专业、李勇、刘晨等都是分量 

笛卡尔积可表示为一个二维表
表中的每行对应一个元组，表中的每列对应一个域 

#### 关系

R（D1，D2，…，Dn）
R：关系名
n：关系的目或度（Degree）

n目关系必有n个属性

#### 码

##### 候选码（Candidate key）

​    若关系中的某一属性组的值能**唯一**地标识一个元组，则称该属性组为候选码
​    简单的情况：候选码只包含一个属性

##### 全码（All-key）

​    最极端的情况：关系模式的所有属性组是这个关系模式的候选码，称为全码（All-key）

##### 主码（唯一）

若一个关系有多个候选码，则选定其中一个为主码（Primary key），有索引表

主属性：候选码的属性（可以多个）

非主属性：不包含在候选码中的属性

##### 表的种类

- 基本关系（基本表或基表）
  实际存在的表，是实际存储数据的逻辑表示
- 查询表
  查询结果对应的表
- 视图表
  由基本表或其他视图表导出的表，是**虚表**，不对
  应实际存储的数据，只看不存

##### 基本关系的性质

① 列是同质的（Homogeneous）
② 不同的列可出自同一个域

- 其中的每一列称为一个属性

- 不同的属性要给予不同的属性名

  ③ 列的顺序无所谓,，列的次序可以任意交换
  ④ 任意两个元组的候选码不能相同
  ⑤ 行的顺序无所谓，行的次序可以任意交换

  ⑥ 分量必须取原子值：表中不能有表

#### 关系模式

可以形式化地表示为：
    	R（U，D，DOM，F）
		R       关系名
		U       组成该关系的属性名集合
		D       属性组U中属性所来自的域
		DOM  属性向域的映象集合
		F        属性间的数据依赖关系集合

通常可以简记为
 	R (U)    或    R (A1，A2，…，An)

关系模式：静态的、稳定的

关系是关系模式的内容，是动态的